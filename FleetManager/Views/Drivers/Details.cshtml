@model FleetManager.Models.Driver
@{
    ViewData["Title"] = "Dettagli autista";
}

<div class="d-flex justify-content-between align-items-center mb-3">
    <h2>@Model.Nome @Model.Cognome</h2>
    <div>
        <a class="btn btn-primary" asp-action="Edit" asp-route-id="@Model.Id">Modifica</a>
        <a class="btn btn-secondary" asp-action="Index">Torna alla lista</a>
    </div>
</div>

<div class="row g-3">
    <div class="col-md-6">
        <div class="card shadow-sm">
            <div class="card-body">
                <dl class="row mb-0">
                    <dt class="col-sm-4">Patente</dt><dd class="col-sm-8">@Model.NumeroPatente</dd>
                    <dt class="col-sm-4">Telefono</dt><dd class="col-sm-8">@Model.Telefono</dd>
                    <dt class="col-sm-4">Note</dt><dd class="col-sm-8">@Model.Note</dd>
                </dl>
            </div>
        </div>
    </div>
    <div class="col-md-6">
        <div class="card shadow-sm">
            <div class="card-header">Assegnazioni</div>
            <div class="card-body">
                @if (!Model.Assegnazioni.Any())
                {
                    <p class="text-muted mb-0">Nessuna assegnazione registrata.</p>
                }
                else
                {
                    <ul class="list-group list-group-flush">
                        @foreach (var ass in Model.Assegnazioni)
                        {
                            <li class="list-group-item d-flex justify-content-between">
                                <span>@ass.Vehicle?.Targa</span>
                                <small class="text-muted">@ass.DataInizio.ToString("dd/MM/yyyy") - @(ass.DataFineEffettiva?.ToString("dd/MM/yyyy") ?? "in corso")</small>
                            </li>
                        }
                    </ul>
                }
            </div>
        </div>
    </div>
</div>
